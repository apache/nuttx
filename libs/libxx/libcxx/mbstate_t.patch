--- libcxx/include/__mbstate_t.h
+++ libcxx/include/__mbstate_t.h
@@ -45,6 +45,8 @@
 #  include <sys/_types/_mbstate_t.h> // works on Darwin
 #elif !defined(_LIBCPP_HAS_NO_WIDE_CHARACTERS) && __has_include_next(<wchar.h>)
 #  include_next <wchar.h> // fall back to the C standard provider of mbstate_t
+#elif defined(__NuttX__) && __has_include_next(<wchar.h>)
+#  include_next <wchar.h> // NuttX always exposes mbstate_t through <wchar.h>
 #elif __has_include_next(<uchar.h>)
 #  include_next <uchar.h> // <uchar.h> is also required to make mbstate_t visible
 #else
