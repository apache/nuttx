#
# For a description of the syntax of this configuration file,
# see the file kconfig-language.txt in the NuttX tools repository.
#

if ARCH_CHIP_QEMU_ARM

menu "Qemu Virt Chip Selection"

choice
	prompt "Qemu Core Configuration"
	default ARCH_CHIP_QEMU_CORTEXA7

config ARCH_CHIP_QEMU_CORTEXA7
	bool "Qemu virtual Processor (cortex-a7)"
	select ARCH_CORTEXA7
	select ARCH_HAVE_ADDRENV
	select ARCH_HAVE_LOWVECTORS
	select ARCH_HAVE_MULTICPU
	select ARCH_NEED_ADDRENV_MAPPING
	select ARMV7A_HAVE_GICv2
	select ARMV7A_HAVE_GTM
	select ARMV7A_HAVE_PTM

endchoice # Qemu Chip Selection

endmenu # "Qemu Virt Chip Selection"

config ARCH_CHIP_QEMU_TRUSTZONE
	bool "Enable Arm Security Extensions (TrustZone)"
	select ARCH_HAVE_TRUSTZONE
	default n
	---help---
		Doc: https://qemu-project.gitlab.io/qemu/system/arm/virt.html
		shows that set secure=on/of can emulating a guest CPU which
		implements the Arm Security Extensions (TrustZone).
		The default is off. And this config can enable/disable
		TrustZone in qemu chip.

#####################################################################
#  UART Configuration
#####################################################################

config UART1_PL011
    bool "UART1_PL011"
    default y
    ---help---
        UART1 PL011 interface.

if UART1_PL011

config UART1_BASE
    hex "UART1 base address"
    default 0x9000000

config UART1_IRQ
    int "UART1 IRQ number"
    default 33

config UART1_CLK_FREQ
	int "PL011 UART1 clock frequency"
	default 24000000

config UART1_SERIAL_CONSOLE
    bool "UART1 as console"
    default y
    ---help---
        Use UART1 as the console device.

endif # UART_PL011

endif # ARCH_CHIP_QEMU_ARM
